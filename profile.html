<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
    <title>profile</title>

    <script>
        // JavaScript for icon hover effect
        document.addEventListener('DOMContentLoaded', () => {
            const navButtons = document.querySelectorAll('.nav-bar-titles');

            navButtons.forEach(button => {
                const icon = button.querySelector('img'); // Get the icon inside the button
                const originalSrc = icon.src; // Store the original icon source
                const hoverSrc = icon.dataset.hover; // Get the hover source from data attribute

                // Change to hover icon on mouseover
                button.addEventListener('mouseover', () => {
                    if (hoverSrc) { // Check if hoverSrc exists
                        icon.src = hoverSrc; // Change to hover icon
                    }
                });

                // Change back to original icon on mouseout
                button.addEventListener('mouseout', () => {
                    icon.src = originalSrc; // Change back to original icon
                });
            });
        });
    </script>

    <head>
        <!-- Other meta tags and title -->
        <link rel="stylesheet" href="./css/index.css">
    </head>
</head>

<body>
    <div class="topBar">
        <span><image src="icons/logout.svg" onclick="window.location.href='login.html'" style="cursor: pointer;"></image></span>
        <span><image src="icons/settings.svg" onclick="window.location.href='settings.html'" style="cursor: pointer;"></image></span>
    </div>
    <div class="main-container">
        <div class="user-info">
            <div class="user-avatar">
                <image class="avatar" src="./images/professor.png"/>
            </div>
            <div class="user-name">
                Professor Lomelino
            </div>
        </div>
        <div class="title">
            <text class="title-text">
                Your Goals
            </text>
        </div>
        <div class="goal-box">
            <div class="goal-item">
                <div class="item-title">
                    <image class="item-icon" src="./images/fire.png" />
                    Activity
                </div>
                <div class="item-data">
                    <text class="data-text">
                        60
                    </text>
                    <text class="data-unit">
                        mins
                    </text>
                </div>
            </div>
            <div class="goal-item">
                <div class="item-title">
                    <image class="item-icon" src="./images/Food.png" />
                    Food
                </div>
                <div class="item-data">
                    <text class="data-text" style="margin:0 5px 0 0 ;">
                        2000
                    </text>
                    <text class="data-unit">
                        cal
                    </text>
                </div>
            </div>
            <div class="goal-item">
                <div class="item-title">
                    <image class="item-icon" src="./images/lotus-filled.png" />
                    Recovery
                </div>
                <div class="item-data">
                    <text class="data-text">
                        60
                    </text>
                    <text class="data-unit">
                        mins
                    </text>
                </div>
            </div>
        </div>
        <div class="title" style="margin-top: 0;">
            <text class="title-text">
                Health Status
            </text>
            <text class="see-all" onclick="window.location.href='health.html'" style="cursor: pointer;">
                See all
            </text>
        </div>
        <div class="status-box">
            <div class="status-item" onclick="window.location.href='calories.html'" style="cursor: pointer;">
                <div class="status-title">
                    Calories
                </div>
                <div class="item-data" style="width: auto;">
                    <canvas id="barChart" width="150" height="120" style="margin-top: 10px;"></canvas>
                </div>
            </div>
            <div class="status-item">
                <div class="status-title">
                    Heart Rate
                </div>
                <div class="item-data">
                    <canvas id="lineChart" width="150" height="120" style="margin-top: 10px;"></canvas>
                </div>
            </div>
            <div class="status-item">
                <div class="status-title">
                    Active Energy
                </div>
                <div class="item-data">
                    <svg class="progress-circle" viewBox="0 0 36 36">
                        <circle class="progress-bg" cx="18" cy="18" r="15.915" fill="none" stroke="#e6e6e6"
                            stroke-width="2"></circle>
                        <circle class="progress" cx="18" cy="18" r="15.915" fill="none" stroke="#DA7759" stroke-width="2"
                            stroke-dasharray="0, 100" stroke-linecap="round" transform="rotate(-90 18 18)"></circle>
                        <!-- <text x="18" y="18" class="progress-text">38/60min</text> -->
                    </svg>
                </div>
            </div>
        </div>
    </div>
    <nav>
        <div class="btn-group nav-bar">
            <a href="home.html" class="btn nav-bar-titles" style="text-decoration: none !important;">
                <img src="icons/house.svg" alt="Home icon" data-hover="icons/house_filled.svg">
                Home
            </a>
            <a href="workout.html" class="btn nav-bar-titles" style="text-decoration: none !important;">
                <img src="icons/dumbell.svg" alt="Workouts icon" data-hover="icons/dumbell_filled.svg">
                Workouts
            </a>
            <a href="quick_add.html" class="btn nav-bar-titles" style="text-decoration: none !important;">
                <img src="icons/plus.svg" alt="Quick add icon" data-hover="icons/plus_filled.svg">
                Quick Add
            </a>
            <a href="community.html" class="btn nav-bar-titles" style="text-decoration: none !important;">
                <img src="icons/comment.svg" alt="Community icon" data-hover="icons/comment_filled.svg">
                Community
            </a>
            <a href="profile.html" class="btn nav-bar-titles nav-bar-titles-selected" style="text-decoration: none !important;">
                <img src="icons/profile_filled.svg" alt="Profile icon" data-hover="icons/profile_filled.svg">
                Profile
            </a>
        </div>
    </nav>
</body>
<style>
    .topBar {
        justify-content: right;
        display: flex;
        padding-right: 24px;
        padding-top: 12px;
    }

    .nav-items {
        display: flex;
        width: 60px;
        height: 60px;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        font-size: 10px;
    }

    .nav-icon {
        width: 30px;
        height: 30px;
        /* margin-right: 10px; */
    }

    .a {
        text-decoration: none !important;
    }

    .nav-bar {
        display: flex;
        position: fixed; /* Keep the nav-bar fixed */
        bottom: 20px;    /* Distance from the bottom */
        left: 50%;       /* Center horizontally */
        transform: translateX(-50%); /* Center alignment adjustment */
        justify-content: center;
        width: calc(100% - 40px); /* Use full width minus margins */
        max-width: 600px;  /* Ensure it doesn't exceed 600px */
        margin: 0 auto;  /* Center margin automatically */
        flex-wrap: wrap;
        transition: color 0.3s, font-weight 0.3s; /* Smooth transition for color */
        border: 2px solid #D9D9D9;
        border-radius: 48px;
        padding-top: 10px;
        padding-bottom: 10px;
        padding-left: 6px;
        padding-right: 6px;
        gap: 10px;
        z-index: 1000; /* Ensure it stays on top */
        background-color: white !important;
    }

    .nav-bar-titles {
        font-family: 'SF Pro';
        font-weight: 400;
        font-size: 10px;
        color: black;
        transition: color 0.3s, font-weight 0.3s;
    }

    .nav-bar-titles-selected {
        font-weight: 600 !important;
        color: #DA7659 !important;
    }

    .nav-bar-titles:hover {
        color: #DA7659;
        font-weight: 600;
    }

    .btn {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        width: 60px;
        height: 57px;
        border: none;
    }

    .btn img {
        height: 24px;
        margin-bottom: 4px;
        transition: transform 0.3s;
    }

    .btn:hover img {
        transform: scale(1.1);
    }

    .container {
    width: 800px;
}
    .main-container {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        padding-bottom: 70px;
    }

    .user-info {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        width: 95%;
        height: 250px;
        /* background: aqua; */
        margin-top: 30px;
    }

    .user-avatar {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        background: rgb(218, 119, 89);
    }

    .avatar {
        width: 100%;
        height: 100%;
        border-radius: 50%;
        object-fit: cover;
    }

    .user-name {
        font-size: 20px;
        font-weight: 500;
        margin-top: 20px;
    }

    .title {
        display: flex;
        width: 95%;
        height: auto;
        justify-content: space-between;
    }

    .title-text {
        font-size: 17px;
        font-weight: 350;
    }

    .see-all {
        font-size: 17px;
        font-weight: 350;
        margin-top: 5px;
    }

    .goal-box {
        width: 95%;
        height: 90px;
        display: flex;
        justify-content: space-between;
        margin: 10px 0 20px 0;
    }

    .goal-item {
        width: 28%;
        height: 100%;
        border-radius: 15px;
        background: rgb(248, 248, 248);
    }

    .item-title {
        display: flex;
        flex-direction: column;
        width: 30px;
        margin: 10px 0 0 10px;
        font-size: 10px;
        color: #DA7759;
    }

    .item-icon {
        width: 14px;
        height: 16px;
        margin-bottom: 5px;
    }

    .item-data {
        display: flex;
        align-items: center;
        /* justify-content: space-between; */
        width: 70%;
        height: auto;
        margin: 5px 0 0 10px;
    }

    .data-text {
        font-size: 23px;
        font-weight: 500;
        margin: 0 10px 0 0;
    }

    .data-unit {
        font-size: 18px;
        font-weight: 300;
        /* margin-left: 10px; */
    }

    .status-box {
        width: 95%;
        min-height: 200px;
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        margin: 10px 0 20px 0;
    }

    .status-item {
        width: 45%;
        height: 180px;
        border-radius: 15px;
        background: rgb(248, 248, 248);
        margin-bottom: 20px;
    }

    .status-title {
        display: flex;
        /* flex-direction: column; */
        width: 120px;
        margin: 20px 0 0 10px;
        font-size: 15px;
        color: #000;
    }

    .progress-circle {
        width: 100px;
        height: 100px;
        margin-left: 30px;
    }

    .progress-text {
        font-size: 5px;
        fill: #333;
        text-anchor: middle;
        dominant-baseline: middle;
    }

    .footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 85%;
        height: 60px;
        border-radius: 50px;
        background: white;
        border: 1px solid rgb(227, 227, 227);
        position: fixed;
        bottom: 0;
        z-index: 1;
        margin-bottom: 30px;
        padding: 0 10px;
    }


    .nav-items {
        display: flex;
        width: 60px;
        height: 60px;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        font-size: 10px;
    }

    .nav-icon {
        width: 30px;
        height: 30px;
        /* margin-right: 10px; */
    }

    .chart-container {
        background-color: #f9f9f9;
        padding: 20px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        border-radius: 10px;
        text-align: center;
        font-family: Arial, sans-serif;
    }
</style>
<script>
    // 数据
    const barData = [120, 80, 150, 180, 90, 60, 110];
    const lineData = [60, 80, 70, 90, 60, 75, 65];
    const labels = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];

    // 绘制柱状图
    function drawBarChart() {
        const canvas = document.getElementById('barChart');
        const ctx = canvas.getContext('2d');
        const chartHeight = 90;
        const chartWidth = 1;
        const barWidth = 3;
        const barGap = 10;
        const maxBarData = Math.max(...barData);

        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = '#d2691e';

        barData.forEach((value, index) => {
            const x = 30 + index * (barWidth + barGap);
            const y = canvas.height - (value / maxBarData) * chartHeight - 30;
            const barHeight = (value / maxBarData) * chartHeight;

            // 绘制柱子
            ctx.fillRect(x, y, barWidth, barHeight);
        });
    }

    // 绘制折线图
    function setProgress(progress) {
        const circle = document.querySelector('.progress');
        const text = document.querySelector('.progress-text');
        const radius = circle.r.baseVal.value;
        const circumference = 2 * Math.PI * radius;

        // 更新圆环的 stroke-dasharray
        const offset = circumference - (progress / 100) * circumference;
        circle.style.strokeDasharray = `${circumference} ${circumference}`;
        circle.style.strokeDashoffset = offset;

        // 更新文本
        // text.textContent = `${progress}%`;
    }

    // 设置进度为 75%
    setProgress(75);
    function drawLineChart() {
        const canvas = document.getElementById('lineChart');
        const ctx = canvas.getContext('2d');
        const chartHeight = 80;
        const chartWidth = 100;
        const pointRadius = 3;
        const maxLineData = Math.max(...lineData);
        const minLineData = Math.min(...lineData);

        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // 线条样式
        ctx.beginPath();
        ctx.strokeStyle = '#888';
        ctx.lineWidth = 1.5;

        // 绘制折线
        lineData.forEach((value, index) => {
            const x = 30 + index * (chartWidth / (lineData.length - 1));
            const y = canvas.height - ((value - minLineData) / (maxLineData - minLineData)) * chartHeight - 30;

            if (index === 0) {
                ctx.moveTo(x, y);
            } else {
                ctx.lineTo(x, y);
            }
        });
        ctx.stroke();

        // 绘制圆点
        lineData.forEach((value, index) => {
            const x = 30 + index * (chartWidth / (lineData.length - 1));
            const y = canvas.height - ((value - minLineData) / (maxLineData - minLineData)) * chartHeight - 30;

            ctx.beginPath();
            ctx.arc(x, y, pointRadius, 0, Math.PI * 2);
            ctx.fillStyle = index % 2 === 0 ? '#d2691e' : '#a52a2a';
            ctx.fill();
        });
    }

    // 调用函数绘制图表
    drawBarChart();
    drawLineChart();

</script>

</html>